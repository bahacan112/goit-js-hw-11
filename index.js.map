{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["import SimpleLightbox from 'simplelightbox';\r\nimport 'simplelightbox/dist/simple-lightbox.min.css';\r\nimport 'iziToast/dist/css/iziToast.min.css'; \r\nimport iziToast from 'izitoast';\r\n\r\nconst searchInput = document.getElementById('search-input');\r\nconst searchButton = document.getElementById('search-button');\r\nconst gallery = document.getElementById('gallery');\r\nconst loadingSpinner = document.getElementById('loading-spinner');\r\n\r\nconst lightbox = new SimpleLightbox('.gallery a', {\r\n  captions: true,\r\n  captionsData: 'alt',\r\n  captionDelay: 250\r\n});\r\n\r\nsearchButton.addEventListener('click', () => {\r\n  const url = `${import.meta.env.VITE_API_URL}/?key=${import.meta.env.VITE_API_KEY}&q=${searchInput.value}&image_type=photo&orientation=horizontal&safesearch=true`;\r\n  loadingSpinner.classList.remove('hidden');\r\n\r\n  const fetchData = (url) => {\r\n    return new Promise((resolve, reject) => {\r\n      fetch(url)\r\n        .then((response) => {\r\n          if (!response.ok) {\r\n            throw new Error('Veri alınırken bir hata oluştu');\r\n          }\r\n          return response.json();\r\n        })\r\n        .then((data) => resolve(data))\r\n        .catch((error) => reject('Bir hata oluştu: ' + error.message));\r\n    });\r\n  };\r\n\r\n  fetchData(url)\r\n    .then((data) => {\r\n        if (data.hits.length===0){\r\n            iziToast.info({\r\n                title: 'Info',\r\n                message: 'Sorry, there are no images matching your search query. Please try again!',\r\n                position: 'topRight',\r\n                backgroundColor: 'red',\r\n              });\r\n        }\r\n      const galleryItems = data.hits\r\n        .map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => {\r\n          return `\r\n            <li class=\"gallery-item\">\r\n              <a href=\"${largeImageURL}\" data-lightbox=\"gallery\" data-title=\"${tags}\">\r\n                <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\"/>\r\n              </a>\r\n              <div class=\"bottom-item\">\r\n                <div class=\"bottom-item-div\"><p class=\"bottom-item-p1\">Likes</p><p class=\"bottom-item-p2\">${likes}</p></div>\r\n                <div class=\"bottom-item-div\"><p class=\"bottom-item-p1\">Views</p><p class=\"bottom-item-p2\">${views}</p></div>\r\n                <div class=\"bottom-item-div\"><p class=\"bottom-item-p1\">Comments</p><p class=\"bottom-item-p2\">${comments}</p></div>\r\n                <div class=\"bottom-item-div\"><p class=\"bottom-item-p1\">Downloads</p><p class=\"bottom-item-p2\">${downloads}</p></div>\r\n              </div>\r\n            </li>\r\n          `;\r\n        })\r\n        .join(\"\");\r\n    \r\n\r\n      gallery.innerHTML = galleryItems;\r\n      lightbox.refresh();\r\n    })\r\n    .catch((error) => {\r\n      console.log('Hata:', error);\r\n    })\r\n    .finally(() => {\r\n      loadingSpinner.classList.add('hidden');\r\n      \r\n    });\r\n});\r\n"],"names":["searchInput","searchButton","gallery","loadingSpinner","lightbox","SimpleLightbox","url","resolve","reject","response","data","error","iziToast","galleryItems","webformatURL","largeImageURL","tags","likes","views","comments","downloads"],"mappings":"iyBAKA,MAAMA,EAAc,SAAS,eAAe,cAAc,EACpDC,EAAe,SAAS,eAAe,eAAe,EACtDC,EAAU,SAAS,eAAe,SAAS,EAC3CC,EAAiB,SAAS,eAAe,iBAAiB,EAE1DC,EAAW,IAAIC,EAAe,aAAc,CAChD,SAAU,GACV,aAAc,MACd,aAAc,GAChB,CAAC,EAEDJ,EAAa,iBAAiB,QAAS,IAAM,CAC3C,MAAMK,EAAM,qEAA0EN,EAAY,KAAK,2DACxFG,EAAA,UAAU,OAAO,QAAQ,GAErBG,GACV,IAAI,QAAQ,CAACC,EAASC,IAAW,CACtC,MAAMF,CAAG,EACN,KAAMG,GAAa,CACd,GAAA,CAACA,EAAS,GACN,MAAA,IAAI,MAAM,gCAAgC,EAElD,OAAOA,EAAS,MACjB,CAAA,EACA,KAAMC,GAASH,EAAQG,CAAI,CAAC,EAC5B,MAAOC,GAAUH,EAAO,oBAAsBG,EAAM,OAAO,CAAC,CAAA,CAChE,GAGOL,CAAG,EACV,KAAMI,GAAS,CACRA,EAAK,KAAK,SAAS,GACnBE,EAAS,KAAK,CACV,MAAO,OACP,QAAS,2EACT,SAAU,WACV,gBAAiB,KAAA,CAClB,EAET,MAAMC,EAAeH,EAAK,KACvB,IAAI,CAAC,CAAE,aAAAI,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,KAC1D;AAAA;AAAA,yBAEQL,CAAa,yCAAyCC,CAAI;AAAA,kDACjCF,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA,4GAGgCC,CAAK;AAAA,4GACLC,CAAK;AAAA,+GACFC,CAAQ;AAAA,gHACPC,CAAS;AAAA;AAAA;AAAA,WAIhH,EACA,KAAK,EAAE,EAGVlB,EAAQ,UAAYW,EACpBT,EAAS,QAAQ,CAAA,CAClB,EACA,MAAOO,GAAU,CACR,QAAA,IAAI,QAASA,CAAK,CAAA,CAC3B,EACA,QAAQ,IAAM,CACER,EAAA,UAAU,IAAI,QAAQ,CAAA,CAEtC,CACL,CAAC"}